// [AIV_SHORT]  Build version: 0.2.0 - Wednesday, July 3rd, 2019, 6:06:45 PM  
 (window.webpackJsonpHeatmap=window.webpackJsonpHeatmap||[]).push([[2],{36:function(t,e,n){var r;r=function(){return function(n){var r={};function a(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,a),e.loaded=!0,e.exports}return a.m=n,a.c=r,a.p="/dist/",a(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.nodeRenderers=e.treeTypes=e.Parser=e.Tooltip=e.Prerenderer=e.Branch=e.Tree=void 0;var r=u(n(1)),a=u(n(7)),i=u(n(11)),o=u(n(27)),s=u(n(29)),l=u(n(8)),c=u(n(26)),h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(2));function u(t){return t&&t.__esModule?t:{default:t}}function f(t,e,r){var n=t[e]?t:t.prototype,a=n[e];n[e]=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.call(this,a,e)}}e.Tree=r.default,e.Branch=a.default,e.Prerenderer=i.default,e.Tooltip=o.default,e.Parser=s.default,e.treeTypes=l.default,e.nodeRenderers=c.default,e.utils=h,e.default={plugin:function(t){t.call(this,f)},createTree:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new r.default(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),a=n(2),i=o(n(7)),g=n(27),l=o(n(8)),f=o(n(28));function o(t){return t&&t.__esModule?t:{default:t}}var p=a.dom.addClass,s=a.dom.setCursorDrag,c=a.dom.setCursorDragging,h=a.events.fireEvent,u=a.events.addEvent,y=a.events.removeEvent,d=a.canvas.getPixelRatio,b=a.canvas.translateClick,m=a.constants.Predicates,v=function(){function v(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),this._point={x:0,y:0},this.containerElement="string"==typeof t?document.getElementById(t):t,p(this.containerElement,"pc-container"),this.branches={},this.leaves=[],this.root=!1,this.stringRepresentation="",this.backColour=!1,this.originalTree={},"static"===window.getComputedStyle(this.containerElement).position&&(this.containerElement.style.position="relative"),this.containerElement.style.boxSizing="border-box";var r=document.createElement("canvas");r.id=(this.containerElement.id||"")+"__canvas",r.className="phylocanvas",r.style.position="relative",r.height=t.offsetHeight||400,r.width=t.offsetWidth||400,r.style.zIndex="1",this.containerElement.appendChild(r),this.canvas=r.getContext("2d"),this.canvas.canvas.onselectstart=function(){return!1},this.canvas.fillStyle="#000000",this.canvas.strokeStyle="#000000",this.canvas.save(),this.collapsedColour="rgba(0, 0, 0, 0.5)",this.defaultCollapsed={},this.tooltip=new g.ChildNodesTooltip(this),this.drawn=!1,this.highlighters=[],this.zoom=1,this.zoomFactor=3,this.disableZoom=!1,this.fillCanvas=!1,this.branchScaling=!0,this.currentBranchScale=1,this.branchScalingStep=1.2,this.pickedup=!1,this.dragging=!1,this.startx=null,this.starty=null,this.baseNodeSize=1,this.origx=null,this.origy=null,this.offsetx=this.canvas.canvas.width/2,this.offsety=this.canvas.canvas.height/2,this.selectedColour="rgba(49,151,245,1)",this.highlightColour="rgba(49,151,245,1)",this.highlightWidth=4,this.highlightSize=2,this.branchColour="rgba(0,0,0,1)",this.branchScalar=1,this.padding=50,this.labelPadding=5,this.multiSelect=!0,this.clickFlag="selected",this.clickFlagPredicate=m.tautology,this.hoverLabel=!1,this.internalNodesSelectable=!0,this.showLabels=!0,this.showBranchLengthLabels=!1,this.branchLengthLabelPredicate=m.tautology,this.showInternalNodeLabels=!1,this.internalLabelStyle={colour:this.branchColour,textSize:this.textSize,font:this.font,format:""},this.setTreeType("radial"),this.maxBranchLength=0,this.lineWidth=1,this.textSize=7,this.font="sans-serif",this.unselectOnClickAway=!0,this.farthestNodeFromRootX=0,this.farthestNodeFromRootY=0,this.shiftKeyDrag=!1,this.maxLabelLength={},Object.assign(this,n),this.resizeToContainer(),this.eventListeners={};var a=Object.assign({click:{listener:this.clicked.bind(this)},mousedown:{listener:this.pickup.bind(this)},mouseup:{listener:this.drop.bind(this)},mouseout:{listener:this.drop.bind(this)},mousemove:{target:this.canvas.canvas,listener:this.drag.bind(this)},mousewheel:{target:this.canvas.canvas,listener:this.scroll.bind(this)},DOMMouseScroll:{target:this.canvas.canvas,listener:this.scroll.bind(this)},resize:{target:window,listener:function(){e.resizeToContainer(),e.draw()}}},n.eventListeners||{}),i=!0,o=!1,s=void 0;try{for(var l,c=Object.keys(a)[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var h=l.value,u=a[h],f=u.listener,d=u.target;this.addListener(h,f,d)}}catch(t){o=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}}return r(v,[{key:"removeEventListeners",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,a=Object.keys(this.eventListeners)[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value,o=!0,s=!1,l=void 0;try{for(var c,h=this.eventListeners[i][Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var u=c.value,f=u.target,d=u.listener;y(f||this.containerElement,i,d)}}catch(t){s=!0,l=t}finally{try{!o&&h.return&&h.return()}finally{if(s)throw l}}}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}},{key:"setInitialCollapsedBranches",value:function(){var t,e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.root;if((t=n.getChildProperties("id"))&&t.length>this.defaultCollapsed.min&&t.length<this.defaultCollapsed.max)n.collapsed=!0;else for(e=0;e<n.children.length;e++)this.setInitialCollapsedBranches(n.children[e])}},{key:"getNodeAtMousePosition",value:function(t){var e;return(e=this.root).clicked.apply(e,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(b(t,this)))}},{key:"getSelectedNodeIds",value:function(){return this.getNodeIdsWithFlag("selected")}},{key:"getNodeIdsWithFlag",value:function(n){var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return this.leaves.reduce(function(t,e){return e[n]===r&&t.push(e.id),t},[])}},{key:"clicked",value:function(t){var e;if(0===t.button){var n=[];if(this.dragging)return void(this.dragging=!1);if(!this.root)return!1;e=this.getNodeAtMousePosition(t);var r=this.multiSelect&&(t.metaKey||t.ctrlKey);if(e&&e.interactive)if(r){if(e.leaf)e[this.clickFlag]=!e[this.clickFlag];else if(this.internalNodesSelectable){var a=e.getChildProperties(this.clickFlag).some(function(t){return!1===t});e.cascadeFlag(this.clickFlag,a,this.clickFlagPredicate)}n=this.getNodeIdsWithFlag(this.clickFlag),this.draw()}else this.root.cascadeFlag(this.clickFlag,!1,this.clickFlagPredicate),(this.internalNodesSelectable||e.leaf)&&(e.cascadeFlag(this.clickFlag,!0,this.clickFlagPredicate),n=e.getChildProperties("id")),this.draw();else!this.unselectOnClickAway||this.dragging||r||(this.root.cascadeFlag(this.clickFlag,!1,this.clickFlagPredicate),this.draw());this.pickedup||(this.dragging=!1),this.nodesUpdated(n,this.clickFlag)}}},{key:"drag",value:function(t){var e=d(this.canvas);if(!this.drawn)return!1;if(this.pickedup){var n=(t.clientX-this.startx)*e,r=(t.clientY-this.starty)*e;5<Math.abs(n)+Math.abs(r)&&(this.dragging=!0,this.offsetx=this.origx+n,this.offsety=this.origy+r,this.draw())}else{var a=t,i=this.getNodeAtMousePosition(a);i&&i.interactive&&(this.internalNodesSelectable||i.leaf)?(this.root.cascadeFlag("hovered",!1),i.hovered=!0,i.leaf||i.hasCollapsedAncestor()||this.tooltip.open(a.clientX,a.clientY,i),this.containerElement.style.cursor="pointer"):(this.tooltip.close(),this.root.cascadeFlag("hovered",!1),this.shiftKeyDrag&&a.shiftKey?s(this.containerElement):this.containerElement.style.cursor="auto"),this.draw()}}},{key:"draw",value:function(t){if((this.highlighters.length=0)!==this.maxBranchLength){this.canvas.clearRect(0,0,this.canvas.canvas.width,this.canvas.canvas.height),this.canvas.lineCap="round",this.canvas.lineJoin="round",this.canvas.strokeStyle=this.branchColour,this.canvas.save(),this.drawn&&!t||(this.prerenderer.run(this),t||this.fitInPanel());var e=d(this.canvas);this.canvas.lineWidth=this.lineWidth/this.zoom,this.canvas.translate(this.offsetx*e,this.offsety*e),this.canvas.scale(this.zoom,this.zoom),this.branchRenderer.render(this,this.root),this.highlighters.forEach(function(t){return t()}),this.drawn=!0,this.canvas.restore()}else this.loadError(new Error("All branches in the tree are identical."))}},{key:"pickup",value:function(t){if(!this.shiftKeyDrag||t.shiftKey){if(!this.drawn)return!1;this.origx=this.offsetx,this.origy=this.offsety,0===t.button&&(this.pickedup=!0,c(this.containerElement)),this.startx=t.clientX,this.starty=t.clientY}}},{key:"drop",value:function(t){if(!this.drawn)return!1;this.pickedup=!1,this.shiftKeyDrag&&t.shiftKey?s(this.containerElement):this.containerElement.style.cursor="auto"}},{key:"scroll",value:function(t){if(!(this.disableZoom||"wheelDelta"in t&&0===t.wheelDelta)){t.preventDefault(),this._point.x=t.offsetX,this._point.y=t.offsetY;var e=t.detail<0||0<t.wheelDelta?1:-1;this.branchScaling&&(t.metaKey||t.ctrlKey)?(this.currentBranchScale*=Math.pow(this.branchScalingStep,e),this.setBranchScale(this.currentBranchScale,this._point)):this.smoothZoom(e,this._point)}}},{key:"findLeaves",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"id",n=[],r=!0,a=!1,i=void 0;try{for(var o,s=this.leaves[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;l[e]&&l[e].match(t)&&n.push(l)}}catch(t){a=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}},{key:"updateLeaves",value:function(t,e,n){var r=!0,a=!1,i=void 0;try{for(var o,s=this.leaves[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){o.value[e]=!n}}catch(t){a=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}var l=!0,c=!1,h=void 0;try{for(var u,f=t[Symbol.iterator]();!(l=(u=f.next()).done);l=!0){u.value[e]=n}}catch(t){c=!0,h=t}finally{try{!l&&f.return&&f.return()}finally{if(c)throw h}}this.nodesUpdated(t.map(function(t){return t.id}),e)}},{key:"clearSelect",value:function(){this.root.cascadeFlag("selected",!1),this.draw()}},{key:"getPngUrl",value:function(){return this.canvas.canvas.toDataURL()}},{key:"load",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e,r=arguments[2];if("function"==typeof e&&(r=e,n={}),r&&(n.callback=r),n.format)this.build(t,f.default[n.format],n);else{var a=!0,i=!1,o=void 0;try{for(var s,l=Object.keys(f.default)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value,h=f.default[c];if(t.match(h.fileExtension)||t.match(h.validator))return void this.build(t,h,n)}}catch(t){i=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}var u=new Error("String not recognised as a file or a parseable format string");r&&r(u),this.loadError(u)}}},{key:"saveOriginalTree",value:function(){this.originalTree.branches=this.branches,this.originalTree.leaves=this.leaves,this.originalTree.root=this.root,this.originalTree.branchLengths={},this.originalTree.parents={}}},{key:"clearState",value:function(){this.root=!1,this.leaves=[],this.branches={},this.drawn=!1}},{key:"extractNestedBranches",value:function(){this.branches={},this.leaves=[],this.storeNode(this.root),this.root.extractChildren()}},{key:"saveState",value:function(){this.extractNestedBranches(),this.root.branchLength=0,this.maxBranchLength=0,this.root.setTotalLength(),0!==this.maxBranchLength||this.loadError(new Error("All branches in the tree are identical."))}},{key:"build",value:function(e,t,n){var r=this;this.originalTree={},this.clearState(),i.default.lastId=0;var a=new i.default;a.id="root",this.branches.root=a,this.setRoot(a),t.parse({formatString:e,root:a,options:n},function(t){if(t)return n.callback&&n.callback(t),void r.loadError(t);r.stringRepresentation=e,r.saveState(),r.setInitialCollapsedBranches(),r.beforeFirstDraw(),r.draw(),r.saveOriginalTree(),n.callback&&n.callback(),r.loadCompleted()})}},{key:"redrawFromBranch",value:function(t){this.clearState(),this.resetTree(),this.originalTree.branchLengths[t.id]=t.branchLength,this.originalTree.parents[t.id]=t.parent,this.root=t,this.root.parent=!1,this.saveState(),this.draw(),this.subtreeDrawn(t.id)}},{key:"redrawOriginalTree",value:function(){this.load(this.stringRepresentation)}},{key:"storeNode",value:function(t){if(t.id&&""!==t.id||(t.id=i.default.generateId()),this.branches[t.id]&&t!==this.branches[t.id]){if(t.leaf)throw new Error("Two nodes on this tree share the id "+t.id);t.id=i.default.generateId()}(this.branches[t.id]=t).leaf&&this.leaves.push(t)}},{key:"setNodeSize",value:function(t){this.baseNodeSize=Number(t),this.draw()}},{key:"setRoot",value:function(t){(t.tree=this).root=t}},{key:"setTextSize",value:function(t){this.textSize=Number(t),this.draw()}},{key:"setFontSize",value:function(t){this.textSize=this.calculateFontSize?this.calculateFontSize(t):Math.min(t/2,15),this.canvas.font=this.textSize+"pt "+this.font}},{key:"setTreeType",value:function(t,e){if(!(t in l.default))return h(this.containerElement,"error",{error:new Error('"'+t+'" is not a known tree-type.')});var n=this.treeType;this.treeType=t,this.type=l.default[t],this.branchRenderer=l.default[t].branchRenderer,this.prerenderer=l.default[t].prerenderer,this.labelAlign=l.default[t].labelAlign,this.calculateFontSize=l.default[t].calculateFontSize,this.drawn&&(this.drawn=!1,this.draw()),e||this.treeTypeChanged(n,t)}},{key:"setSize",value:function(t,e){this.canvas.canvas.width=t,this.canvas.canvas.height=e,this.navigator&&this.navigator.resize(),this.adjustForPixelRatio()}},{key:"adjustForPixelRatio",value:function(){var t=d(this.canvas);this.canvas.canvas.style.height=this.canvas.canvas.height+"px",this.canvas.canvas.style.width=this.canvas.canvas.width+"px",1<t&&(this.canvas.canvas.width*=t,this.canvas.canvas.height*=t)}},{key:"getCentrePoint",value:function(){var t=d(this.canvas);return{x:this.canvas.canvas.width/2/t,y:this.canvas.canvas.height/2/t}}},{key:"setZoom",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getCentrePoint(),n=e.x,r=e.y;if(0<t){var a=this.zoom;this.zoom=t,this.offsetx=this.calculateZoomedOffset(this.offsetx,n,a,t),this.offsety=this.calculateZoomedOffset(this.offsety,r,a,t),this.draw()}}},{key:"smoothZoom",value:function(t,e){this.setZoom(Math.pow(10,Math.log(this.zoom)/Math.log(10)+t*this.zoomFactor*.01),e)}},{key:"calculateZoomedOffset",value:function(t,e,n,r){return-1*((-1*t+e)/n*r-e)}},{key:"setBranchScale",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{x:this.canvas.canvas.width/2,y:this.canvas.canvas.height/2},n=l.default[this.treeType];if(n.branchScalingAxis&&!(t<0)){var r=this.branchScalar;this.branchScalar=this.initialBranchScalar*t;var a=this.branchScalar/r,i=this["offset"+n.branchScalingAxis],o=e[n.branchScalingAxis],s=(e[n.branchScalingAxis]-i)*a+i;this["offset"+n.branchScalingAxis]+=o-s,this.draw()}}},{key:"toggleLabels",value:function(){this.showLabels=!this.showLabels,this.draw()}},{key:"setMaxLabelLength",value:function(){var t;void 0===this.maxLabelLength[this.treeType]&&(this.maxLabelLength[this.treeType]=0);for(var e=0;e<this.leaves.length;e++)(t=this.canvas.measureText(this.leaves[e].id)).width>this.maxLabelLength[this.treeType]&&(this.maxLabelLength[this.treeType]=t.width)}},{key:"loadStarted",value:function(){h(this.containerElement,"loading")}},{key:"beforeFirstDraw",value:function(){h(this.containerElement,"beforeFirstDraw")}},{key:"loadCompleted",value:function(){h(this.containerElement,"loaded")}},{key:"loadError",value:function(t){h(this.containerElement,"error",{error:t})}},{key:"subtreeDrawn",value:function(t){h(this.containerElement,"subtree",{node:t})}},{key:"nodesUpdated",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];h(this.containerElement,"updated",{nodeIds:t,property:e,append:n})}},{key:"treeTypeChanged",value:function(t,e){h(this.containerElement,"typechanged",{oldType:t,newType:e})}},{key:"addListener",value:function(t,e,n){this.eventListeners[t]||(this.eventListeners[t]=[]),this.eventListeners[t].push({listener:e,target:n}),u(n||this.containerElement,t,e)}},{key:"removeListener",value:function(t,e,n){y(n||this.containerElement,t,e)}},{key:"getBounds",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.leaves,e=t===this.leaves?this.root:t[0],n=e.startx,r=e.startx,a=e.starty,i=e.starty,o=!0,s=!1,l=void 0;try{for(var c,h=t[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var u=c.value.getBounds();n=Math.min(n,u.minx),r=Math.max(r,u.maxx),a=Math.min(a,u.miny),i=Math.max(i,u.maxy)}}catch(t){s=!0,l=t}finally{try{!o&&h.return&&h.return()}finally{if(s)throw l}}return[[n,a],[r,i]]}},{key:"fitInPanel",value:function(t){this.zoom=1;var e=this.getBounds(t),n=[this.canvas.canvas.width-2*this.padding,this.canvas.canvas.height-2*this.padding],r=[e[1][0]-e[0][0],e[1][1]-e[0][1]],a=d(this.canvas),i=n[0]/r[0],o=n[1]/r[1];this.zoom=Math.min(i,o),this.offsetx=-1*e[0][0]*this.zoom,this.offsety=-1*e[0][1]*this.zoom,o<i?(this.offsetx+=this.padding+(n[0]-r[0]*this.zoom)/2,this.offsety+=this.padding):(this.offsetx+=this.padding,this.offsety+=this.padding+(n[1]-r[1]*this.zoom)/2),this.offsetx=this.offsetx/a,this.offsety=this.offsety/a}},{key:"resetTree",value:function(){if(this.originalTree.branches){this.branches=this.originalTree.branches;var t=!0,e=!1,n=void 0;try{for(var r,a=Object.keys(this.originalTree.branchLengths)[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;this.branches[i].branchLength=this.originalTree.branchLengths[i],this.branches[i].parent=this.originalTree.parents[i]}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}this.leaves=this.originalTree.leaves,this.root=this.originalTree.root}}},{key:"rotateBranch",value:function(t){this.branches[t.id].rotate()}},{key:"exportNwk",value:function(){var t=this.root.getNwk();return t.substr(0,t.lastIndexOf(")")+1)+";"}},{key:"resizeToContainer",value:function(){this.setSize(this.containerElement.offsetWidth,this.containerElement.offsetHeight)}},{key:"cleanup",value:function(){this.removeEventListeners()}},{key:"alignLabels",get:function(){return this.showLabels&&this.labelAlign&&this.labelAlignEnabled},set:function(t){this.labelAlignEnabled=t}}]),v}();v.prototype.on=v.prototype.addListener,v.prototype.off=v.prototype.removeListener,e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.events=e.dom=e.constants=e.canvas=void 0;var r=s(n(3)),a=s(n(6)),i=s(n(4)),o=s(n(5));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.canvas=r,e.constants=a,e.dom=i,e.events=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBackingStorePixelRatio=r,e.getPixelRatio=i,e.translateClick=function(t,e){var n=i(e.canvas);return[(t.offsetX-e.offsetx)/e.zoom*n,(t.offsetY-e.offsety)/e.zoom*n]},e.translatePoint=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=t.x,n=t.y,r=arguments[1],a=i(r.canvas);return{x:(e-r.offsetx)/r.zoom*a,y:(n-r.offsety)/r.zoom*a}},e.undoPointTranslation=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=t.x,n=t.y,r=arguments[1],a=i(r.canvas);return{x:e/a*r.zoom+r.offsetx,y:n/a*r.zoom+r.offsety}};n(4);function r(t){return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}function i(t){return(window.devicePixelRatio||1)/r(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBlobUrl=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text/plain;charset=utf-8",n=new Blob([t],{type:e});return i.createObjectURL(n)},e.setupDownloadLink=function(t,e){var n=document.createElement("a"),r=void 0!==n.download;n.href=t,n.target="_blank",r&&(n.download=e);(0,a.fireEvent)(n,"click"),r&&i.revokeObjectURL(n.href)},e.getX=function(t){var e=0;for(;t;)e+=t.offsetLeft,t=t.offsetParent;return e},e.getY=function(t){var e=0;for(;t;)e+=t.offsetTop,t=t.offsetParent;return e},e.addClass=function(t,e){var n=t.className.split(" ");-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" "))},e.removeClass=function(t,e){var n=t.className.split(" "),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(" "))},e.hasClass=function(t,e){return-1!==t.className.split(" ").indexOf(e)},e.setCursorDragging=function(t){t.style.cursor="-webkit-grabbing",t.style.cursor="-moz-grabbing",t.style.cursor="grabbing"},e.setCursorDrag=function(t){t.style.cursor="-webkit-grab",t.style.cursor="-moz-grab",t.style.cursor="grab"};var a=n(5),i=window.URL||window.webkitURL},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.preventDefault=function(t){return t.preventDefault(),!1},e.fireEvent=function(t,e){var n,r,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};document.createEvent?(n=document.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=document.createEventObject()).eventType=e;for(r in n.eventName=e,a)a.hasOwnProperty(r)&&(n[r]=a[r]);document.createEvent?t.dispatchEvent(n):t.fireEvent("on"+n.eventType,n)},e.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,function(){return n.call(t,window.event)})},e.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):console.warn("[Phylocanvas] Unable to remove event, removeEventListener not supported")},e.killEvent=function(t){t.stopPropagation(),t.preventDefault()},e.createHandler=function(e,n){var t;t=(void 0===n?"undefined":r(n))===r("aaa")?function(t){if(e[n])return e[n](t)}:function(){return n(e)};return t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Angles={FORTYFIVE:Math.PI/4,QUARTER:Math.PI/2,HALF:Math.PI,FULL:2*Math.PI},e.Shapes={x:"star",s:"square",o:"circle",t:"triangle"},e.Predicates={tautology:function(){return!0},contradiction:function(){return!1},leafOnly:function(t){return t.leaf},nonLeaf:function(t){return!t.leaf}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),a=n(2),c=o(n(8)),i=o(n(26));function o(t){return t&&t.__esModule?t:{default:t}}var h=a.constants.Angles,s=a.constants.Shapes,u={minx:0,maxx:0,miny:0,maxy:0},l={lineWidth:null,strokeStyle:null,fillStyle:null},f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.angle=0,this.branchLength=0,this.centerx=0,this.centery=0,this.children=[],this.collapsed=!1,this.colour=null,this.data={},this.highlighted=!1,this.hovered=!1,this.id="",this.label=null,this.leaf=!0,this.maxChildAngle=0,this.minChildAngle=h.FULL,this.nodeShape="circle",this.parent=null,this.radius=1,this.selected=!1,this.startx=0,this.starty=0,this.totalBranchLength=0,this.tree=null,this.pruned=!1,this.labelStyle={},this.internalLabelStyle=null,this.interactive=!0,this.leafStyle={},this.minx=0,this.miny=0,this.maxx=0,this.maxy=0}return r(t,[{key:"clicked",value:function(t,e){if(this.dragging||this.hasCollapsedAncestor())return null;if(t<this.maxx&&t>this.minx&&e<this.maxy&&e>this.miny)return this;for(var n=this.children.length-1;0<=n;n--){var r=this.children[n].clicked(t,e);if(r)return r}}},{key:"drawLabel",value:function(){var t=this.getTextSize(),e=this.getLabel();this.canvas.font=this.getFontString(),this.labelWidth=this.canvas.measureText(e).width,void 0===this.tree.maxLabelLength[this.tree.treeType]&&(this.tree.maxLabelLength[this.tree.treeType]=0),this.labelWidth>this.tree.maxLabelLength[this.tree.treeType]&&(this.tree.maxLabelLength[this.tree.treeType]=this.labelWidth);var n=this.getLabelStartX();this.tree.alignLabels&&(n+=Math.abs(this.tree.labelAlign.getLabelOffset(this))),this.angle>h.QUARTER&&this.angle<h.HALF+h.QUARTER&&(this.canvas.rotate(h.HALF),n=-n-1*this.labelWidth),this.canvas.beginPath(),this.canvas.fillStyle=this.getTextColour(),this.canvas.fillText(e,n,t/2),this.canvas.closePath(),this.angle>h.QUARTER&&this.angle<h.HALF+h.QUARTER&&this.canvas.rotate(h.HALF)}},{key:"setNodeDimensions",value:function(t,e,n){var r=n;(n*this.tree.zoom<5||!this.leaf)&&(r=5/this.tree.zoom),this.minx=t-r,this.maxx=t+r,this.miny=e-r,this.maxy=e+r}},{key:"getNumberOfLeaves",value:function(){for(var t=0,e=[this];e.length;){var n=e.pop();if(n.leaf)t++;else{var r=!0,a=!1,i=void 0;try{for(var o,s=n.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;e.push(l)}}catch(t){a=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}}}return t}},{key:"drawCollapsed",value:function(t,e){var n=c.default[this.tree.treeType].getCollapsedMeasurements;this.canvas.beginPath();var r=n(this),a=r.angle,i=r.radius,o=this.angle-a/2,s=this.angle+a/2;this.canvas.moveTo(t,e),this.canvas.arc(t,e,i,o,s,!1);var l=this.canvas.createRadialGradient(t,e,i,t,e,.2*i);l.addColorStop(0,"rgba(255, 255, 255, 0)"),l.addColorStop(1,this.tree.collapsedColour||this.getColour()),this.canvas.fillStyle=l,this.canvas.fill(),this.canvas.closePath()}},{key:"drawLabelConnector",value:function(){var t=this.tree,e=t.highlightColour,n=t.labelAlign;this.canvas.save(),this.canvas.lineWidth=this.canvas.lineWidth/4,this.canvas.strokeStyle=this.isHighlighted?e:this.getColour(),this.canvas.beginPath(),this.canvas.moveTo(this.getRadius(),0),this.canvas.lineTo(n.getLabelOffset(this)+this.getDiameter(),0),this.canvas.stroke(),this.canvas.closePath(),this.canvas.restore()}},{key:"drawLeaf",value:function(){var t=this.tree,e=t.alignLabels,n=t.canvas;e&&this.drawLabelConnector(),n.save(),i.default[this.nodeShape](n,this.getRadius(),this.getLeafStyle()),n.restore(),(this.tree.showLabels||this.tree.hoverLabel&&this.isHighlighted)&&this.drawLabel()}},{key:"drawHighlight",value:function(t,e){this.canvas.save(),this.canvas.beginPath(),this.canvas.strokeStyle=this.tree.highlightColour,this.canvas.lineWidth=this.getHighlightLineWidth();var n=this.getHighlightRadius();this.canvas.arc(t,e,n,0,h.FULL,!1),this.canvas.stroke(),this.canvas.closePath(),this.canvas.restore()}},{key:"drawBranchLabels",value:function(){this.canvas.save();var t=this.internalLabelStyle||this.tree.internalLabelStyle;this.canvas.fillStyle=t.colour,this.canvas.font=t.format+" "+t.textSize+"pt "+t.font,this.canvas.textBaseline="middle",this.canvas.textAlign="center";var e=2*this.canvas.measureText("M").width/3,n="y"===this.tree.type.branchScalingAxis?this.centerx:(this.startx+this.centerx)/2,r="x"===this.tree.type.branchScalingAxis?this.centery:(this.starty+this.centery)/2;this.tree.showBranchLengthLabels&&this.tree.branchLengthLabelPredicate(this)&&this.canvas.fillText(this.branchLength.toFixed(2),n,r+e),this.tree.showInternalNodeLabels&&!this.leaf&&this.label&&this.canvas.fillText(this.label,n,r-e),this.canvas.restore()}},{key:"drawNode",value:function(){var t=this.getRadius(),e=t,n=this.leaf?e*Math.cos(this.angle)+this.centerx:this.centerx,r=this.leaf?e*Math.sin(this.angle)+this.centery:this.centery;this.setNodeDimensions(n,r,t),this.collapsed?this.drawCollapsed(n,r):this.leaf&&(this.canvas.save(),this.canvas.translate(this.centerx,this.centery),this.canvas.rotate(this.angle),this.drawLeaf(),this.canvas.restore()),this.isHighlighted&&this.tree.highlighters.push(this.drawHighlight.bind(this,n,r)),(this.tree.root!==this&&this.tree.showBranchLengthLabels||this.tree.showInternalNodeLabels)&&this.drawBranchLabels()}},{key:"getChildProperties",value:function(t){if(this.leaf)return[this[t]];for(var e=[],n=0;n<this.children.length;n++)e=e.concat(this.children[n].getChildProperties(t));return e}},{key:"getChildCount",value:function(){if(this.leaf)return 1;for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].getChildCount();return t}},{key:"getChildYTotal",value:function(){if(this.leaf)return this.centery;for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].getChildYTotal();return t}},{key:"cascadeFlag",value:function(t,e,n){if(void 0===this[t])throw new Error("Unknown property: "+t);(void 0===n||n(this,t,e))&&(this[t]=e);var r=!0,a=!1,i=void 0;try{for(var o,s=this.children[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){o.value.cascadeFlag(t,e,n)}}catch(t){a=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}}},{key:"reset",value:function(){var t;for(this.startx=0,this.starty=0,this.centerx=0,this.centery=0,this.angle=null,this.minChildAngle=h.FULL,t=this.maxChildAngle=0;t<this.children.length;t++)try{this.children[void 0].reset()}catch(t){return t}}},{key:"redrawTreeFromBranch",value:function(){this.collapsed&&this.expand(),this.tree.redrawFromBranch(this)}},{key:"extractChildren",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,a=this.children[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;this.tree.storeNode(i),i.extractChildren()}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}},{key:"hasCollapsedAncestor",value:function(){return!!this.parent&&(this.parent.collapsed||this.parent.hasCollapsedAncestor())}},{key:"collapse",value:function(){this.collapsed=!1===this.leaf}},{key:"expand",value:function(){this.collapsed=!1}},{key:"toggleCollapsed",value:function(){this.collapsed?this.expand():this.collapse()}},{key:"setTotalLength",value:function(){var t;for(this.parent?(this.totalBranchLength=this.parent.totalBranchLength+this.branchLength,this.totalBranchLength>this.tree.maxBranchLength&&(this.tree.maxBranchLength=this.totalBranchLength)):(this.totalBranchLength=this.branchLength,this.tree.maxBranchLength=this.totalBranchLength),t=0;t<this.children.length;t++)this.children[t].setTotalLength()}},{key:"addChild",value:function(t){t.parent=this,t.tree=this.tree,this.leaf=!1,this.children.push(t)}},{key:"getChildColours",value:function(){var n=[];return this.children.forEach(function(t){var e=0===t.children.length?t.colour:t.getColour();-1===n.indexOf(e)&&n.push(e)}),n}},{key:"getColour",value:function(t){return this.selected?this.tree.selectedColour:t||this.colour||this.tree.branchColour}},{key:"getNwk",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.leaf?this.label+":"+this.branchLength:"("+this.children.map(function(t){return t.getNwk(!1)}).join(",")+"):"+this.branchLength+(t?";":"")}},{key:"getTextColour",value:function(){if(this.selected)return this.tree.selectedColour;if(this.isHighlighted)return this.tree.highlightColour;if(this.tree.backColour&&this.children.length){var t=this.getChildColours();if(1===t.length)return t[0]}return this.labelStyle.colour||this.colour||this.tree.branchColour}},{key:"getLabel",value:function(){return void 0!==this.label&&null!==this.label?this.label:""}},{key:"getTextSize",value:function(){return this.labelStyle.textSize||this.tree.textSize}},{key:"getFontString",value:function(){var t=this.labelStyle.font||this.tree.font;return(this.labelStyle.format||"")+" "+this.getTextSize()+"pt "+t}},{key:"getLabelSize",value:function(){return this.canvas.font=this.getFontString(),this.canvas.measureText(this.getLabel()).width}},{key:"getRadius",value:function(){var t=this.tree.baseNodeSize;return this.leaf?t*this.radius:t/this.radius}},{key:"getDiameter",value:function(){return 2*this.getRadius()}},{key:"hasLabelConnector",value:function(){return!!this.tree.alignLabels&&this.tree.labelAlign.getLabelOffset(this)>this.getDiameter()}},{key:"getLabelStartX",value:function(){this.getLeafStyle().lineWidth;var t=this.hasLabelConnector(),e=this.getDiameter();return this.isHighlighted&&!t&&(e+=this.getHighlightSize()-this.getRadius()),e+Math.min(this.tree.labelPadding,this.tree.labelPadding/this.tree.zoom)}},{key:"getHighlightLineWidth",value:function(){return this.tree.highlightWidth/this.tree.zoom}},{key:"getHighlightRadius",value:function(){var t=this.getHighlightLineWidth()*this.tree.highlightSize;return t+=this.getLeafStyle().lineWidth/this.tree.highlightSize,this.leaf?this.getRadius()+t:.666*t}},{key:"getHighlightSize",value:function(){return this.getHighlightRadius()+this.getHighlightLineWidth()}},{key:"rotate",value:function(){for(var t=[],e=this.children.length;e--;)t.push(this.children[e]);this.children=t,this.tree.extractNestedBranches(),this.tree.draw(!0)}},{key:"getChildNo",value:function(){return this.parent.children.indexOf(this)}},{key:"setDisplay",value:function(t){var e=t.colour,n=t.shape,r=t.size,a=t.leafStyle,i=t.labelStyle;e&&(this.colour=e),n&&(this.nodeShape=s[n]?s[n]:n),r&&(this.radius=r),a&&(this.leafStyle=a),i&&(this.labelStyle=i)}},{key:"getTotalLength",value:function(){var t=this.getRadius();return(this.tree.showLabels||this.tree.hoverLabel&&this.isHighlighted)&&(t+=this.getLabelStartX()+this.getLabelSize()),t}},{key:"getBounds",value:function(){var t=this.tree,e=t.alignLabels?t.labelAlign.getX(this):this.centerx,n=t.alignLabels?t.labelAlign.getY(this):this.centery,r=this.getRadius(),a=this.getTotalLength(),i=void 0,o=void 0,s=void 0,l=void 0;l=this.angle>h.QUARTER&&this.angle<h.HALF+h.QUARTER?(i=e+a*Math.cos(this.angle),s=n+a*Math.sin(this.angle),o=e-r,n-r):(i=e-r,s=n-r,o=e+a*Math.cos(this.angle),n+a*Math.sin(this.angle));var c=t.prerenderer.getStep(t)/2;return u.minx=Math.min(i,o,e-c),u.miny=Math.min(s,l,n-c),u.maxx=Math.max(i,o,e+c),u.maxy=Math.max(s,l,n+c),u}},{key:"getLeafStyle",value:function(){var t=this.leafStyle,e=t.strokeStyle,n=t.fillStyle,r=this.tree.zoom;l.strokeStyle=this.getColour(e),l.fillStyle=this.getColour(n);var a=void 0!==this.leafStyle.lineWidth?this.leafStyle.lineWidth:this.tree.lineWidth;return l.lineWidth=a/r,l}},{key:"isHighlighted",get:function(){return this.highlighted||this.hovered}},{key:"canvas",get:function(){return this.tree.canvas}}],[{key:"generateId",value:function(){return"pcn"+this.lastId++}}]),t}();f.lastId=0,e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(9)),a=l(n(14)),i=l(n(17)),o=l(n(20)),s=l(n(23));function l(t){return t&&t.__esModule?t:{default:t}}e.default={rectangular:r.default,circular:a.default,radial:i.default,diagonal:o.default,hierarchical:s.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(10)),a=l(n(11)),i=l(n(12)),o=l(n(13)),s=n(6);function l(t){return t&&t.__esModule?t:{default:t}}e.default={branchRenderer:new r.default(i.default),prerenderer:new a.default(o.default),labelAlign:{getX:function(t){return t.tree.farthestNodeFromRootX*t.tree.currentBranchScale},getY:function(t){return t.centery},getLabelOffset:function(t){return t.tree.farthestNodeFromRootX*t.tree.currentBranchScale-t.centerx}},branchScalingAxis:"x",getCollapsedMeasurements:function(t){return{angle:s.Angles.QUARTER,radius:t.tree.step*t.getNumberOfLeaves()}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var r=function(){function e(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!t.draw)throw new Error("`draw` function is required for branch renderers");this.draw=t.draw,this.prepareChild=t.prepareChild}return n(e,[{key:"render",value:function(t,e,n){var r;if(!n&&e&&(e.selected?e.canvas.fillStyle=t.selectedColour:e.canvas.fillStyle=e.colour,e.canvas.strokeStyle=e.getColour(),this.draw(t,e),!e.pruned))for(e.drawNode(),r=0;r<e.children.length;r++)this.prepareChild&&this.prepareChild(e,e.children[r]),this.render(t,e.children[r],e.collapsed||n)}}]),e}();e.default=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var r=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.getStep=t.getStep,this.calculate=t.calculate}return n(e,[{key:"run",value:function(t){var e=this.getStep(t);t.root.startx=0,t.root.starty=0,t.root.centerx=0,t.root.centery=0,t.farthestNodeFromRootX=0,t.farthestNodeFromRootY=0,t.currentBranchScale=1,t.step=e,this.calculate(t,e),t.initialBranchScalar=t.branchScalar,t.root.startx=t.root.centerx,t.root.starty=t.root.centery,t.setFontSize(e),t.setMaxLabelLength()}}]),e}();e.default=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={draw:function(t,e){var n=e.branchLength*t.branchScalar;e.angle=0,e.parent&&(e.centerx=e.startx+n),e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.startx,e.centery),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()},prepareChild:function(t,e){e.startx=t.centerx,e.starty=t.centery}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getStep:function(t){return t.fillCanvas?t.canvas.canvas.height/t.leaves.length:Math.max(t.canvas.canvas.height/t.leaves.length,t.leaves[0].getDiameter()+t.labelPadding)},calculate:function(t,e){t.branchScalar=t.canvas.canvas.width/t.maxBranchLength;for(var n=0;n<t.leaves.length;n++){t.leaves[n].angle=0,t.leaves[n].centery=0<n?t.leaves[n-1].centery+e:0,t.leaves[n].centerx=t.leaves[n].totalBranchLength*t.branchScalar,t.leaves[n].centerx>t.farthestNodeFromRootX&&(t.farthestNodeFromRootX=t.leaves[n].centerx),t.leaves[n].centery>t.farthestNodeFromRootY&&(t.farthestNodeFromRootY=t.leaves[n].centery);for(var r=t.leaves[n];r.parent;r=r.parent){var a=r.parent.children;r.parent.centery=(a[0].centery+a[a.length-1].centery)/2}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(10)),a=s(n(11)),i=s(n(15)),o=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}var l={getX:function(t){return t.centerx+t.labelOffsetX+t.getDiameter()*Math.cos(t.angle)},getY:function(t){return t.centery+t.labelOffsetY+t.getDiameter()*Math.sin(t.angle)},getLabelOffset:function(t){return t.labelOffsetX/Math.cos(t.angle)}};e.default={branchRenderer:new r.default(i.default),prerenderer:new a.default(o.default),labelAlign:l,getCollapsedMeasurements:function(t){var e=t.tree,n=e.maxBranchLength,r=e.branchScalar,a=e.step;return{angle:t.getNumberOfLeaves()*a,radius:(n-t.totalBranchLength)*r}},calculateFontSize:function(t){return Math.min(10*t+4,40)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={draw:function(t,e){var n=e.totalBranchLength*t.branchScalar;e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath(),e.canvas.strokeStyle=e.getColour(),1<e.children.length&&!e.collapsed&&(e.canvas.beginPath(),e.canvas.arc(0,0,n,e.minChildAngle,e.maxChildAngle,e.maxChildAngle<e.minChildAngle),e.canvas.stroke(),e.canvas.closePath())}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2).constants.Angles;e.default={getStep:function(t){return i.FULL/t.leaves.length},calculate:function(t,e){t.branchScalar=Math.min(t.canvas.canvas.width,t.canvas.canvas.height)/t.maxBranchLength;var n=t.leaves.length*t.leaves[0].getDiameter()/i.FULL;t.branchScalar*t.maxBranchLength>n?n=t.branchScalar*t.maxBranchLength:t.branchScalar=n/t.maxBranchLength;for(var r=0;r<t.leaves.length;r++){var a=t.leaves[r];for(a.angle=e*r,a.startx=a.parent.totalBranchLength*t.branchScalar*Math.cos(a.angle),a.starty=a.parent.totalBranchLength*t.branchScalar*Math.sin(a.angle),a.centerx=a.totalBranchLength*t.branchScalar*Math.cos(a.angle),a.centery=a.totalBranchLength*t.branchScalar*Math.sin(a.angle),a.labelOffsetX=n*Math.cos(a.angle)-a.centerx,a.labelOffsetY=n*Math.sin(a.angle)-a.centery;a.parent&&(0===a.getChildNo()&&(a.parent.angle=a.angle,a.parent.minChildAngle=a.angle),a.getChildNo()===a.parent.children.length-1);a=a.parent)a.parent.maxChildAngle=a.angle,a.parent.angle=(a.parent.minChildAngle+a.parent.maxChildAngle)/2,a.parent.startx=(a.parent.totalBranchLength-a.parent.branchLength)*t.branchScalar*Math.cos(a.parent.angle),a.parent.starty=(a.parent.totalBranchLength-a.parent.branchLength)*t.branchScalar*Math.sin(a.parent.angle),a.parent.centerx=a.parent.totalBranchLength*t.branchScalar*Math.cos(a.parent.angle),a.parent.centery=a.parent.totalBranchLength*t.branchScalar*Math.sin(a.parent.angle)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(10)),a=s(n(11)),i=s(n(18)),o=s(n(19));function s(t){return t&&t.__esModule?t:{default:t}}e.default={branchRenderer:new r.default(i.default),prerenderer:new a.default(o.default),getCollapsedMeasurements:function(t){var e=t.tree,n=e.maxBranchLength,r=e.branchScalar,a=e.step;return{angle:t.getNumberOfLeaves()*a,radius:(n-t.totalBranchLength)*r}},calculateFontSize:function(t){return Math.min(50*t+5,15)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={draw:function(t,e){e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2).constants.Angles;e.default={getStep:function(t){return r.FULL/t.leaves.length},calculate:function(t,e){t.branchScalar=Math.min(t.canvas.canvas.width,t.canvas.canvas.height)/t.maxBranchLength;for(var n=0;n<t.leaves.length;n+=1){t.leaves[n].angle=e*n,t.leaves[n].centerx=t.leaves[n].totalBranchLength*t.branchScalar*Math.cos(t.leaves[n].angle),t.leaves[n].centery=t.leaves[n].totalBranchLength*t.branchScalar*Math.sin(t.leaves[n].angle);for(var r=t.leaves[n];r.parent&&(0===r.getChildNo()&&(r.parent.angle=0),r.parent.angle+=r.angle*r.getChildCount(),r.getChildNo()===r.parent.children.length-1);r=r.parent)r.parent.angle=r.parent.angle/r.parent.getChildCount()}!function t(e,n){n.parent?(n.startx=n.parent.centerx,n.starty=n.parent.centery):(n.startx=0,n.starty=0),n.centerx=n.startx+n.branchLength*e.branchScalar*Math.cos(n.angle),n.centery=n.starty+n.branchLength*e.branchScalar*Math.sin(n.angle);for(var r=0;r<n.children.length;r++)t(e,n.children[r])}(t,t.root)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(10)),a=l(n(11)),i=l(n(21)),o=l(n(22)),s=n(6);function l(t){return t&&t.__esModule?t:{default:t}}e.default={branchRenderer:new r.default(i.default),prerenderer:new a.default(o.default),calculateFontSize:function(t){return Math.min(t/2,10)},getCollapsedMeasurements:function(t){return{angle:s.Angles.QUARTER,radius:t.tree.step*t.getNumberOfLeaves()}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={draw:function(t,e){e.angle=0,e.canvas.beginPath(),e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()},prepareChild:function(t,e){e.startx=t.centerx,e.starty=t.centery}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2).constants.Angles;e.default={getStep:function(t){return Math.max(t.canvas.canvas.height/t.leaves.length,t.leaves[0].getDiameter()+t.labelPadding)},calculate:function(t,e){for(var n=0;n<t.leaves.length;n++){t.leaves[n].centerx=0,t.leaves[n].centery=0<n?t.leaves[n-1].centery+e:0,t.leaves[n].angle=0;for(var r=t.leaves[n];r.parent&&r.getChildNo()===r.parent.children.length-1;r=r.parent){r.parent.centery=r.parent.getChildYTotal()/r.parent.getChildCount(),r.parent.centerx=r.parent.children[0].centerx+(r.parent.children[0].centery-r.parent.centery)*Math.tan(i.FORTYFIVE);for(var a=0;a<r.parent.children.length;a++)r.parent.children[a].startx=r.parent.centerx,r.parent.children[a].starty=r.parent.centery}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(10)),a=l(n(11)),i=l(n(24)),o=l(n(25)),s=n(6);function l(t){return t&&t.__esModule?t:{default:t}}e.default={branchRenderer:new r.default(i.default),prerenderer:new a.default(o.default),labelAlign:{getX:function(t){return t.centerx},getY:function(t){return t.tree.farthestNodeFromRootY*t.tree.currentBranchScale},getLabelOffset:function(t){return t.tree.farthestNodeFromRootY*t.tree.currentBranchScale-t.centery}},branchScalingAxis:"y",getCollapsedMeasurements:function(t){return{angle:s.Angles.QUARTER,radius:t.tree.step*t.getNumberOfLeaves()}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={draw:function(t,e){var n=e.branchLength*t.branchScalar;e.parent&&(e.centery=e.starty+n),e.canvas.beginPath(),e!==e.tree.root&&(e.canvas.moveTo(e.startx,e.starty),e.canvas.lineTo(e.centerx,e.starty)),e.canvas.lineTo(e.centerx,e.centery),e.canvas.stroke(),e.canvas.closePath()},prepareChild:function(t,e){e.startx=t.centerx,e.starty=t.centery}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2).constants.Angles;e.default={getStep:function(t){return t.fillCanvas?t.canvas.canvas.width/t.leaves.length:Math.max(t.canvas.canvas.width/t.leaves.length,t.leaves[0].getDiameter()+t.labelPadding)},calculate:function(t,e){t.branchScalar=t.canvas.canvas.height/t.maxBranchLength;for(var n=0;n<t.leaves.length;n++){t.leaves[n].angle=i.QUARTER,t.leaves[n].centerx=0<n?t.leaves[n-1].centerx+e:0,t.leaves[n].centery=t.leaves[n].totalBranchLength*t.branchScalar;for(var r=t.leaves[n];r.parent&&(0===r.getChildNo()&&(r.parent.centerx=r.centerx),r.getChildNo()===r.parent.children.length-1);r=r.parent){r.parent.angle=i.QUARTER,r.parent.centerx=(r.parent.centerx+r.centerx)/2,r.parent.centery=r.parent.totalBranchLength*t.branchScalar;for(var a=0;a<r.parent.children.length;a++)r.parent.children[a].startx=r.parent.centerx,r.parent.children[a].starty=r.parent.centery}t.leaves[n].centerx>t.farthestNodeFromRootX&&(t.farthestNodeFromRootX=t.leaves[n].centerx),t.leaves[n].centery>t.farthestNodeFromRootY&&(t.farthestNodeFromRootY=t.leaves[n].centery)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2).constants.Angles;function u(t,e){t.beginPath(),t.moveTo(0,0),t.lineTo(e,0),t.stroke(),t.closePath()}function f(t,e){var n=e.lineWidth,r=e.strokeStyle,a=e.fillStyle;t.lineWidth=n,t.strokeStyle=r,t.fillStyle=a,t.fill(),0<n&&r!==a&&t.stroke()}var o=function(t){return t*Math.sqrt(2)};e.default={circle:function(t,e,n){var r=Math.pow(o(e),2),a=Math.sqrt(r/Math.PI);u(t,e-a),t.beginPath(),t.arc(e,0,a,0,i.FULL,!1),t.closePath(),f(t,n)},square:function(t,e,n){var r=o(e),a=e-r/2;u(t,a),t.beginPath(),t.moveTo(a,0),t.lineTo(a,r/2),t.lineTo(a+r,r/2),t.lineTo(a+r,-r/2),t.lineTo(a,-r/2),t.lineTo(a,0),t.closePath(),f(t,n)},star:function(t,e,n){var r=e,a=e,i=.5*a,o=Math.PI/5;u(t,a-i);var s=Math.PI/2*3;t.beginPath(),t.moveTo(r,0-a);for(var l=0;l<5;l++){var c=r+Math.cos(s)*a,h=0+Math.sin(s)*a;t.lineTo(c,h),s+=o,c=r+Math.cos(s)*i,h=0+Math.sin(s)*i,t.lineTo(c,h),s+=o}t.lineTo(r,0-a),t.closePath(),f(t,n)},triangle:function(t,e,n){var r=2*e*Math.cos(30*Math.PI/180),a=Math.sqrt(3)/2*r,i=1/Math.sqrt(3)*(r/2);u(t,e-i),t.beginPath(),t.moveTo(e,i),t.lineTo(e+r/2,i),t.lineTo(e,-(a-i)),t.lineTo(e-r/2,i),t.lineTo(e,i),t.closePath(),f(t,n)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function h(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.className,r=void 0===n?"phylocanvas-tooltip":n,a=e.element,i=void 0===a?document.createElement("div"):a,o=e.zIndex,s=void 0===o?2e3:o,l=e.parent,c=void 0===l?t.containerElement:l;u(this,h),this.tree=t,this.element=i,this.element.className=r,this.element.style.display="none",this.element.style.position="fixed",this.element.style.zIndex=s,this.closed=!0,c.appendChild(this.element)}return n(h,[{key:"close",value:function(){this.element.style.display="none",this.closed=!0}},{key:"open",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=arguments[2];this.element.hasChildNodes();)this.element.removeChild(this.element.firstChild);this.createContent(n),this.element.style.top=e+"px",this.element.style.left=t+"px",this.element.style.display="block",this.closed=!1}},{key:"createContent",value:function(){throw new Error("Not implemented")}}]),h}();e.default=a;e.ChildNodesTooltip=function(t){function r(t,e){u(this,r);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e));return n.element.style.background="rgba(97, 97, 97, 0.9)",n.element.style.color="#fff",n.element.style.cursor="pointer",n.element.style.padding="8px",n.element.style.marginTop="16px",n.element.style.borderRadius="2px",n.element.style.textAlign="center",n.element.style.fontFamily=n.tree.font||"sans-serif",n.element.style.fontSize="10px",n.element.style.fontWeight="500",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,a),n(r,[{key:"createContent",value:function(t){var e=document.createTextNode(t.getChildProperties("id").length);this.element.appendChild(e)}}]),r}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(29)),a=o(n(30)),i=o(n(31));function o(t){return t&&t.__esModule?t:{default:t}}e.default={nexus:new r.default(i.default),newick:new r.default(a.default)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var r=function(){function i(t){var e=t.format,n=t.parseFn,r=t.fileExtension,a=t.validator;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.format=e,this.parseFn=n,this.fileExtension=r,this.validator=a}return n(i,[{key:"parse",value:function(t,e){var n=t.formatString,r=t.root,a=t.options,i=void 0===a?{validate:!0}:a;return n.match(this.validator)||!1===i.validate?this.parseFn({string:n,root:r,options:i},e):e(new Error('Format string does not validate as "'+this.format+'"'))}}]),i}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(7),l=(r=a)&&r.__esModule?r:{default:r};function c(t){return this===t}var h=[":",",",")",";"];var u=[")",",",";"];function f(t,e,n){var r=function(t){var e="",n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;if(h.some(c.bind(s)))break;e+=s}}catch(t){r=!0,a=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return e}(e.slice(n)),a=n+r.length,i="";return r.match(/\*/)&&function(t,e){var n=t.split("**"),r={};if(e.id=n[0],1!==n.length){n=n[1].split("*");for(var a=0;a<n.length;a+=2){var i=n[a+1];switch(n[a]){case"nsz":r.size=window.parseInt(i);break;case"nsh":r.shape=i;break;case"ncol":r.colour=i}}e.setDisplay(r)}}(r,t),":"===e[a]?(i=function(t){var e="",n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;if(u.some(c.bind(s)))break;e+=s}}catch(t){r=!0,a=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return e}(e.slice(a+1)),t.branchLength=Math.max(parseFloat(i),0)):t.branchLength=0,r&&(t.label=r),t.id=r||l.default.generateId(),a+i.length}e.default={format:"newick",fileExtension:/\.nwk$/,validator:/^[\w\W\.\*\:(\),-\/]+;?\s*$/gi,parseFn:function(t,e){for(var n=t.string,r=t.root,a=n.replace(/(\r|\n)/g,""),i=r,o=0;o<a.length;o++){var s=void 0;switch(a[o]){case"(":s=new l.default,i.addChild(s),i=s;break;case")":i=i.parent;break;case",":s=new l.default,i.parent.addChild(s),i=s;break;case";":break;default:try{o=f(i,a,o)}catch(t){return e(t)}}}return e()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=n(30);e.default={parseFn:function(t,c){var e=t.string,h=t.root,n=t.options;if(!e.match(/BEGIN TREES/gi))return c(new Error("The nexus file does not contain a tree block"));var r=n.name,a=e.match(/BEGIN TREES;[\S\s]+END;/i)[0].replace(/BEGIN TREES;\n/i,"").replace(/END;/i,""),u={},i=a.match(/TRANSLATE[^;]+;/i);if(i&&i.length){i=i[0],a=a.replace(i,"");for(var o=(i=i.replace(/translate|;/gi,"")).split(","),s=0;s<o.length;s++){var l=o[s].trim().replace("\n","").split(" ");l[0]&&l[1]&&(u[l[0].trim()]=l[1].trim())}}for(var f=a.split("\n"),d={},v=0;v<f.length;v++)if(""!==f[v].trim()){var g=f[v].replace(/tree\s/i,"");r||(r=g.trim().match(/^\w+/)[0]),d[r]=g.trim().match(/[\S]*$/)[0]}if(!d[r])return new Error("tree "+r+" does not exist in this NEXUS file");(0,p.parseFn)({string:d[r].trim(),root:h},function(t){if(t)return c(t);if(c(),u){var e=!0,n=!1,r=void 0;try{for(var a,i=Object.keys(u)[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var o=a.value,s=h.tree.branches,l=s[o];delete s[o],l.id=u[o],s[l.id]=l}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}h.tree.draw()}})},format:"nexus",fileExtension:/\.n(ex|xs)$/,validator:/^#NEXUS[\s\n;\w\W\.\*\:(\),-=\[\]\/&]+$/i}}])},t.exports=r()},37:function(t,e){!function(n){function r(t){if(a[t])return a[t].exports;var e=a[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}var a={};r.m=n,r.c=a,r.p="",r(0)}([function(t,e,n){n(1),n(50),n(59),n(65),n(67),n(76)},function(t,e,n){"use strict";var r=n(2),o=n(3),a=n(4),i=n(6),s=n(16),l=n(20).KEY,c=n(5),h=n(21),u=n(22),f=n(17),d=n(23),v=n(24),g=n(25),p=n(27),y=n(40),b=n(43),m=n(10),x=n(30),w=n(14),S=n(15),k=n(44),L=n(47),_=n(49),T=n(9),C=n(28),P=_.f,O=T.f,E=L.f,M=r.Symbol,F=r.JSON,A=F&&F.stringify,j="prototype",N=d("_hidden"),R=d("toPrimitive"),B={}.propertyIsEnumerable,z=h("symbol-registry"),I=h("symbols"),D=h("op-symbols"),W=Object[j],U="function"==typeof M,H=r.QObject,Y=!H||!H[j]||!H[j].findChild,X=a&&c(function(){return 7!=k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=P(W,e);r&&delete W[e],O(t,e,n),r&&t!==W&&O(W,e,r)}:O,K=function(t){var e=I[t]=k(M[j]);return e._k=t,e},Q=U&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},Z=function(t,e,n){return t===W&&Z(D,e,n),m(t),e=w(e,!0),m(n),o(I,e)?(n.enumerable?(o(t,N)&&t[N][e]&&(t[N][e]=!1),n=k(n,{enumerable:S(0,!1)})):(o(t,N)||O(t,N,S(1,{})),t[N][e]=!0),X(t,e,n)):O(t,e,n)},q=function(t,e){m(t);for(var n,r=y(e=x(e)),a=0,i=r.length;a<i;)Z(t,n=r[a++],e[n]);return t},G=function(t){var e=B.call(this,t=w(t,!0));return!(this===W&&o(I,t)&&!o(D,t))&&(!(e||!o(this,t)||!o(I,t)||o(this,N)&&this[N][t])||e)},J=function(t,e){if(t=x(t),e=w(e,!0),t!==W||!o(I,e)||o(D,e)){var n=P(t,e);return!n||!o(I,e)||o(t,N)&&t[N][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=E(x(t)),r=[],a=0;n.length>a;)o(I,e=n[a++])||e==N||e==l||r.push(e);return r},V=function(t){for(var e,n=t===W,r=E(n?D:x(t)),a=[],i=0;r.length>i;)!o(I,e=r[i++])||n&&!o(W,e)||a.push(I[e]);return a};U||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=f(0<arguments.length?arguments[0]:void 0),n=function(t){this===W&&n.call(D,t),o(this,N)&&o(this[N],e)&&(this[N][e]=!1),X(this,e,S(1,t))};return a&&Y&&X(W,e,{configurable:!0,set:n}),K(e)})[j],"toString",function(){return this._k}),_.f=J,T.f=Z,n(48).f=L.f=$,n(42).f=G,n(41).f=V,a&&!n(26)&&s(W,"propertyIsEnumerable",G,!0),v.f=function(t){return K(d(t))}),i(i.G+i.W+i.F*!U,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(tt=C(d.store),et=0;tt.length>et;)g(tt[et++]);i(i.S+i.F*!U,"Symbol",{for:function(t){return o(z,t+="")?z[t]:z[t]=M(t)},keyFor:function(t){if(Q(t))return p(z,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),i(i.S+i.F*!U,"Object",{create:function(t,e){return void 0===e?k(t):q(k(t),e)},defineProperty:Z,defineProperties:q,getOwnPropertyDescriptor:J,getOwnPropertyNames:$,getOwnPropertySymbols:V}),F&&i(i.S+i.F*(!U||c(function(){var t=M();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!Q(t)){for(var e,n,r=[t],a=1;arguments.length>a;)r.push(arguments[a++]);return"function"==typeof(e=r[1])&&(n=e),!n&&b(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!Q(e))return e}),r[1]=e,A.apply(F,r)}}}),M[j][R]||n(8)(M[j],R,M[j].valueOf),u(M,"Symbol"),u(Math,"Math",!0),u(r.JSON,"JSON",!0)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var g=n(2),p=n(7),y=n(8),b=n(16),m=n(18),x="prototype",w=function(t,e,n){var r,a,i,o,s=t&w.F,l=t&w.G,c=t&w.S,h=t&w.P,u=t&w.B,f=l?g:c?g[e]||(g[e]={}):(g[e]||{})[x],d=l?p:p[e]||(p[e]={}),v=d[x]||(d[x]={});for(r in l&&(n=e),n)i=((a=!s&&f&&void 0!==f[r])?f:n)[r],o=u&&a?m(i,g):h&&"function"==typeof i?m(Function.call,i):i,f&&b(f,r,i,t&w.U),d[r]!=i&&y(d,r,o),h&&v[r]!=i&&(v[r]=i)};g.core=p,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(9),a=n(15);t.exports=n(4)?function(t,e,n){return r.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(10),a=n(12),i=n(14),o=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),a)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(4)&&!n(5)(function(){return 7!=Object.defineProperty(n(13)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(11),a=n(2).document,i=r(a)&&r(a.createElement);t.exports=function(t){return i?a.createElement(t):{}}},function(t,e,n){var a=n(11);t.exports=function(t,e){if(!a(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!a(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!a(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!a(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(2),o=n(8),s=n(3),l=n(17)("src"),r="toString",a=Function[r],c=(""+a).split(r);n(7).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,r){var a="function"==typeof n;a&&(s(n,"name")||o(n,"name",e)),t[e]!==n&&(a&&(s(n,l)||o(n,l,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:r?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[l]||a.call(this)})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var i=n(19);t.exports=function(r,a,t){if(i(r),void 0===a)return r;switch(t){case 1:return function(t){return r.call(a,t)};case 2:return function(t,e){return r.call(a,t,e)};case 3:return function(t,e,n){return r.call(a,t,e,n)}}return function(){return r.apply(a,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(17)("meta"),a=n(11),i=n(3),o=n(9).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(5)(function(){return l(Object.preventExtensions({}))}),h=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},u=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[r].w},onFreeze:function(t){return c&&u.NEED&&l(t)&&!i(t,r)&&h(t),t}}},function(t,e,n){var r=n(2),a="__core-js_shared__",i=r[a]||(r[a]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(9).f,a=n(3),i=n(23)("toStringTag");t.exports=function(t,e,n){t&&!a(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(21)("wks"),a=n(17),i=n(2).Symbol,o="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=o&&i[t]||(o?i:a)("Symbol."+t))}).store=r},function(t,e,n){e.f=n(23)},function(t,e,n){var r=n(2),a=n(7),i=n(26),o=n(24),s=n(9).f;t.exports=function(t){var e=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e){t.exports=!1},function(t,e,n){var s=n(28),l=n(30);t.exports=function(t,e){for(var n,r=l(t),a=s(r),i=a.length,o=0;o<i;)if(r[n=a[o++]]===e)return n}},function(t,e,n){var r=n(29),a=n(39);t.exports=Object.keys||function(t){return r(t,a)}},function(t,e,n){var o=n(3),s=n(30),l=n(34)(!1),c=n(38)("IE_PROTO");t.exports=function(t,e){var n,r=s(t),a=0,i=[];for(n in r)n!=c&&o(r,n)&&i.push(n);for(;e.length>a;)o(r,n=e[a++])&&(~l(i,n)||i.push(n));return i}},function(t,e,n){var r=n(31),a=n(33);t.exports=function(t){return r(a(t))}},function(t,e,n){var r=n(32);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var l=n(30),c=n(35),h=n(37);t.exports=function(s){return function(t,e,n){var r,a=l(t),i=c(a.length),o=h(n,i);if(s&&e!=e){for(;o<i;)if((r=a[o++])!=r)return!0}else for(;o<i;o++)if((s||o in a)&&a[o]===e)return s||o||0;return!s&&-1}}},function(t,e,n){var r=n(36),a=Math.min;t.exports=function(t){return 0<t?a(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(36),a=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?a(t+e,0):i(t,e)}},function(t,e,n){var r=n(21)("keys"),a=n(17);t.exports=function(t){return r[t]||(r[t]=a(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var s=n(28),l=n(41),c=n(42);t.exports=function(t){var e=s(t),n=l.f;if(n)for(var r,a=n(t),i=c.f,o=0;a.length>o;)i.call(t,r=a[o++])&&e.push(r);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(32);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,r){var a=r(10),i=r(45),o=r(39),s=r(38)("IE_PROTO"),l=function(){},c="prototype",h=function(){var t,e=r(13)("iframe"),n=o.length;for(e.style.display="none",r(46).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;n--;)delete h[c][o[n]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(l[c]=a(t),n=new l,l[c]=null,n[s]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e,n){var o=n(9),s=n(10),l=n(28);t.exports=n(4)?Object.defineProperties:function(t,e){s(t);for(var n,r=l(e),a=r.length,i=0;i<a;)o.f(t,n=r[i++],e[n]);return t}},function(t,e,n){t.exports=n(2).document&&document.documentElement},function(t,e,n){var r=n(30),a=n(48).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?function(t){try{return a(t)}catch(t){return o.slice()}}(t):a(r(t))}},function(t,e,n){var r=n(29),a=n(39).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},function(t,e,n){var r=n(42),a=n(15),i=n(30),o=n(14),s=n(3),l=n(12),c=Object.getOwnPropertyDescriptor;e.f=n(4)?c:function(t,e){if(t=i(t),e=o(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return a(!r.f.call(t,e),t[e])}},function(t,e,n){"use strict";var f=n(18),r=n(6),d=n(51),v=n(52),g=n(53),p=n(35),y=n(55),b=n(56);r(r.S+r.F*!n(58)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,a,i=d(t),o="function"==typeof this?this:Array,s=arguments.length,l=1<s?arguments[1]:void 0,c=void 0!==l,h=0,u=b(i);if(c&&(l=f(l,2<s?arguments[2]:void 0,2)),null==u||o==Array&&g(u))for(n=new o(e=p(i.length));h<e;h++)y(n,h,c?l(i[h],h):i[h]);else for(a=u.call(i),n=new o;!(r=a.next()).done;h++)y(n,h,c?v(a,l,[r.value,h],!0):r.value);return n.length=h,n}})},function(t,e,n){var r=n(33);t.exports=function(t){return Object(r(t))}},function(t,e,n){var i=n(10);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},function(t,e,n){var r=n(54),a=n(23)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[a]===t)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(9),a=n(15);t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}},function(t,e,n){var r=n(57),a=n(23)("iterator"),i=n(54);t.exports=n(7).getIteratorMethod=function(t){if(null!=t)return t[a]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var a=n(32),i=n(23)("toStringTag"),o="Arguments"==a(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?a(e):"Object"==(r=a(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var i=n(23)("iterator"),o=!1;try{var r=[7][i]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:n=!0}},r[i]=function(){return a},t(r)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(60),a=n(61),i=n(54),o=n(30);t.exports=n(62)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,a(1)):a(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(23)("unscopables"),a=Array.prototype;null==a[r]&&n(8)(a,r,{}),t.exports=function(t){a[r][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var m=n(26),x=n(6),w=n(16),S=n(8),k=n(3),L=n(54),_=n(63),T=n(22),C=n(64),P=n(23)("iterator"),O=!([].keys&&"next"in[].keys()),E="values",M=function(){return this};t.exports=function(t,e,n,r,a,i,o){_(n,e,r);var s,l,c,h=function(t){if(!O&&t in v)return v[t];switch(t){case"keys":case E:return function(){return new n(this,t)}}return function(){return new n(this,t)}},u=e+" Iterator",f=a==E,d=!1,v=t.prototype,g=v[P]||v["@@iterator"]||a&&v[a],p=g||h(a),y=a?f?h("entries"):p:void 0,b="Array"==e&&v.entries||g;if(b&&((c=C(b.call(new t)))!==Object.prototype&&(T(c,u,!0),m||k(c,P)||S(c,P,M))),f&&g&&g.name!==E&&(d=!0,p=function(){return g.call(this)}),m&&!o||!O&&!d&&v[P]||S(v,P,p),L[e]=p,L[u]=M,a)if(s={values:f?p:h(E),keys:i?p:h("keys"),entries:y},o)for(l in s)l in v||w(v,l,s[l]);else x(x.P+x.F*(O||d),e,s);return s}},function(t,e,n){"use strict";var r=n(44),a=n(15),i=n(22),o={};n(8)(o,n(23)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:a(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(3),a=n(51),i=n(38)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=a(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,n){"use strict";var r=n(66)(!0);n(62)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var l=n(36),c=n(33);t.exports=function(s){return function(t,e){var n,r,a=String(c(t)),i=l(e),o=a.length;return i<0||o<=i?s?"":void 0:(n=a.charCodeAt(i))<55296||56319<n||i+1===o||(r=a.charCodeAt(i+1))<56320||57343<r?s?a.charAt(i):n:s?a.slice(i,i+2):r-56320+(n-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(68);t.exports=n(73)("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var o=n(9).f,s=n(44),l=n(69),c=n(18),h=n(70),u=n(33),f=n(71),r=n(62),a=n(61),i=n(72),d=n(4),v=n(20).fastKey,g=d?"_s":"size",p=function(t,e){var n,r=v(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,n,r,a){var i=t(function(t,e){h(t,i,n,"_i"),t._i=s(null),t._f=void 0,t._l=void 0,t[g]=0,null!=e&&f(e,r,t[a],t)});return l(i.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e=this,n=p(e,t);if(n){var r=n.n,a=n.p;delete e._i[n.i],n.r=!0,a&&(a.n=r),r&&(r.p=a),e._f==n&&(e._f=r),e._l==n&&(e._l=a),e[g]--}return!!n},forEach:function(t){h(this,i,"forEach");for(var e,n=c(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!p(this,t)}}),d&&o(i.prototype,"size",{get:function(){return u(this[g])}}),i},def:function(t,e,n){var r,a,i=p(t,e);return i?i.v=n:(t._l=i={i:a=v(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[g]++,"F"!==a&&(t._i[a]=i)),t},getEntry:p,setStrong:function(t,e,n){r(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?a(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,a(1))},n?"entries":"values",!n,!0),i(e)}}},function(t,e,n){var a=n(16);t.exports=function(t,e,n){for(var r in e)a(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var f=n(18),d=n(52),v=n(53),g=n(10),p=n(35),y=n(56),b={},m={};(e=t.exports=function(t,e,n,r,a){var i,o,s,l,c=a?function(){return t}:y(t),h=f(n,r,e?2:1),u=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(v(c)){for(i=p(t.length);u<i;u++)if((l=e?h(g(o=t[u])[0],o[1]):h(t[u]))===b||l===m)return l}else for(s=c.call(t);!(o=s.next()).done;)if((l=d(s,h,o.value,e))===b||l===m)return l}).BREAK=b,e.RETURN=m},function(t,e,n){"use strict";var r=n(2),a=n(9),i=n(4),o=n(23)("species");t.exports=function(t){var e=r[t];i&&e&&!e[o]&&a.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var y=n(2),b=n(6),m=n(16),x=n(69),w=n(20),S=n(71),k=n(70),L=n(11),_=n(5),T=n(58),C=n(22),P=n(74);t.exports=function(r,t,e,n,a,i){var o=y[r],s=o,l=a?"set":"add",c=s&&s.prototype,h={},u=function(t){var n=c[t];m(c,t,"delete"==t?function(t){return!(i&&!L(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!L(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!L(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})};if("function"==typeof s&&(i||c.forEach&&!_(function(){(new s).entries().next()}))){var f=new s,d=f[l](i?{}:-0,1)!=f,v=_(function(){f.has(1)}),g=T(function(t){new s(t)}),p=!i&&_(function(){for(var t=new s,e=5;e--;)t[l](e,e);return!t.has(-0)});g||(((s=t(function(t,e){k(t,s,r);var n=P(new o,t,s);return null!=e&&S(e,a,n[l],n),n})).prototype=c).constructor=s),(v||p)&&(u("delete"),u("has"),a&&u("get")),(p||d)&&u(l),i&&c.clear&&delete c.clear}else s=n.getConstructor(t,r,a,l),x(s.prototype,e),w.NEED=!0;return C(s,r),h[r]=s,b(b.G+b.W+b.F*(s!=o),h),i||n.setStrong(s,r,a),s}},function(t,e,n){var i=n(11),o=n(75).set;t.exports=function(t,e,n){var r,a=e.constructor;return a!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&i(r)&&o&&o(t,r),t}},function(t,e,a){var n=a(11),r=a(10),i=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=a(18)(Function.call,a(49).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return i(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:i}},function(t,e,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(77)})},function(t,e,n){"use strict";var f=n(28),d=n(41),v=n(42),g=n(51),p=n(31),a=Object.assign;t.exports=!a||n(5)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=a({},t)[n]||Object.keys(a({},e)).join("")!=r})?function(t,e){for(var n=g(t),r=arguments.length,a=1,i=d.f,o=v.f;a<r;)for(var s,l=p(arguments[a++]),c=i?f(l).concat(i(l)):f(l),h=c.length,u=0;u<h;)o.call(l,s=c[u++])&&(n[s]=l[s]);return n}:a}])},38:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return o});var r=n(36),a=n.n(r);n(37);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.ele=t.ele,this.margin=t.margin,this.newick=t.newick,this.width=t.width,this.height=t.height,this.tree=this.init(),this}var t,n,r;return t=e,(n=[{key:"init",value:function(){var t=this.container=this.ele.querySelector(".tree");t.style.top=this.margin.top-10+"px",t.style.marginLeft="30px";var e=a.a.createTree(t);return e.load(this.newick),e.padding=0,e.setNodeSize(0),e.alignLabels=!0,e.lineWidth=3,e.shiftKeyDrag=!0,e.disableZoom=!0,e.setTreeType("rectangular"),e}},{key:"setWidth",value:function(t){this.container.style.width="".concat(t,"px"),this.tree.canvas.width=t,this.tree.resizeToContainer(),this.tree.draw(!0)}},{key:"setHeight",value:function(t){t+=40,this.container.style.height="".concat(t,"px"),this.tree.canvas.height=t,this.tree.resizeToContainer(),this.tree.draw(!0)}}])&&i(t.prototype,n),r&&i(t,r),e}()}}]); 